#!/bin/bash -x

# this utility is to dump system-wide configs of the production server
# for example, Nginx and Apache configs
# to the code repository
# in order for version control

# Caution: not to copy sensitive info inside those conf file

# ./configure --with-cc-opt="-I/usr/local/Cellar/pcre/8.21/include" --with-ld-opt="-L/usr/local/Cellar/pcre/8.21/lib" --with-http_gzip_static_module --with-http_stub_status_module --without-mail_pop3_module --without-mail_smtp_module --without-mail_imap_module


cp /usr/local/nginx/conf/nginx.conf config/nginx.conf
cp /etc/httpd/conf/httpd.conf config/httpd.conf
cp /usr/local/php/lib/php.ini config/php.ini
cp /usr/local/php/etc/php-fpm.conf config/php-fpm.conf
cp -R ~/.vim config/vim
cp ~/.gitconfig config/gitconfig
crontab -l > config/crontab
cp /usr/local/nginx/conf/ssl-bundle.crt config/ssl
cp /usr/local/nginx/conf/myserver.key config/ssl
cp /root/.zshrc config/zshrc
